


div.itemCard(id="{{$parent.$index}}" style="padding: 3px"  ng-class="{'active-card': item.isEditing}" tm-draggable tm-droppable )
    div.foodViewDiv(ng-hide="$ctrl.item.isEditing"  layout="row")   
        div(flex="5" layout="row" layout-align="center center" )
            span.glyphicon.glyphicon-sort  
        div.gridItemCell(flex="20" layout="row"  
            ng-focus="$ctrl.editItem($ctrl.item, 'name')" 
            ng-click="$ctrl.editItem($ctrl.item, 'name')") {{$ctrl.item.name}}
        div.gridItemCell(flex="50" layout="row"  
            ng-focus="$ctrl.editItem($ctrl.item, 'description')" 
            ng-click="$ctrl.editItem($ctrl.item, 'description')") {{$ctrl.item.description}}
        div.gridItemCell(flex="10" layout="row"  
            ng-focus="$ctrl.editItem($ctrl.item, 'quantity')" 
            ng-click="$ctrl.editItem($ctrl.item, 'quantity')") {{$ctrl.item.quantity}}
        div.gridItemCell(flex="10" layout="row"  
            ng-focus="$ctrl.editItem($ctrl.item, 'price')" 
            ng-click="$ctrl.editItem($ctrl.item, 'price')") {{$ctrl.item.price | currency}}
        div.gridItemCell(flex="5" layout="column" layout-align="center center")
            a(href= "" ng-click="$ctrl.deleteItem($ctrl.item)"  ng-blur="vm.detailBlur(item, $index, $event)" )
                 span.glyphicon.glyphicon-remove 
    div.foodEditDiv(ng-show="$ctrl.item.isEditing"  layout="row"  )
        div.gridItemEditCell(flex="20" layout="row" )
            input.form-control(ng-model="$ctrl.item.name" 
                focus="$ctrl.item.clickedField.name" 
                ng-keydown="$ctrl.arrowKeyOut($ctrl.item, $event, 'name')" 
                ng-blur="$ctrl.detailBlur($ctrl.item, $event)")
        div.gridItemEditCell(flex="55" layout="row" )
            textarea.form-control( rows="3" ng-model="$ctrl.item.description" 
                ng-keydown="$ctrl.arrowKeyOut($ctrl.item, $event, 'description')" 
                focus="$ctrl.item.clickedField.description" 
                ng-blur="$ctrl.detailBlur($ctrl.item, $event)")
        div.gridItemEditCell(flex="10" layout="row" )
            input.form-control(ng-model="$ctrl.item.quantity" 
                ng-keydown="$ctrl.arrowKeyOut($ctrl.item, $event, 'quantity')" 
                focus="$ctrl.item.clickedField.quantity" 
                ng-blur="$ctrl.detailBlur($ctrl.item, $event)")
        div.gridItemEditCell(flex="10" layout="row" )
            input.form-control(ng-model="$ctrl.item.price"  
                ng-keydown="$ctrl.arrowKeyOut($ctrl.item, $event, 'price')" 
                focus="$ctrl.item.clickedField.price" 
                ng-blur="$ctrl.detailBlur($ctrl.item, $event)")
        div(flex="5" layout="column" layout-align="center center")
            a(href= "" ng-click="$ctrl.doneEditing($ctrl.item)" ng-blur="$ctrl.detailBlur($ctrl.item, $event)" )
                 span.glyphicon.glyphicon-ok
